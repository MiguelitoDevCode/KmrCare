<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KmrCare - Réplique Fidèle</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* ============================================= */
        /* ==            VARIABLES & RESET            == */
        /* ============================================= */
        :root {
            --primary-green-light: #29a745;
            --primary-green-dark: #218838;
            --dark-teal: #004d40;
            --medium-teal: #00796b;
            --light-teal: #4db6ac;
            --pale-blue-gray: #eceff1;
            --light-gray: #f8f9fa;
            --medium-gray: #dee2e6;
            --dark-gray: #495057;
            --text-color: #212529;
            --white: #ffffff;
            --border-radius: 8px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--white);
            color: var(--text-color);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ============================================= */
        /* ==       STRUCTURE GÉNÉRALE & ANIMATIONS    == */
        /* ============================================= */
        .page {
            display: none;
            min-height: 100vh;
            width: 100vw;
            animation: fadeIn 0.4s ease-in-out;
            position: relative; /* Ensure position for absolute children like back button */
        }

        .page.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* ============================================= */
        /* ==           STRUCTURES DE LAYOUT          == */
        /* ============================================= */
        /* Pour Login, Register Patient/Dispensary */
        .split-layout {
            height: 100vh;
            overflow: hidden;
        }

        .split-layout .left-panel {
            flex: 1;
            background-color: var(--white);
            padding: 2rem;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Aligner en haut pour le scroll */
            overflow-y: auto;
            position: relative;
        }

        .split-layout .right-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            background-color: var(--dark-teal);
            transition: background-color 0.8s ease;
            text-align: center;
        }
        
        /* Pour Landing, Forgot Password, Confirmation */
        .full-width-layout {
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 2rem;
            position: relative;
        }
        
        .background-image-layout {
            background-size: cover;
            background-position: center;
        }
        .background-image-layout::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(4px);
        }
        .background-image-layout > * {
            position: relative; z-index: 2;
        }

        /* ============================================= */
        /* ==           ÉLÉMENTS COMMUNS              == */
        /* ============================================= */
        .logo {
            display: block; /* Changed from flex to block to center the image */
            text-align: center; /* Center the image within the link */
            margin-bottom: 2rem;
            text-decoration: none; /* Keep text-decoration for the link itself */
        }
        .logo .logo-img {
            height: 90px; /* Increased logo height */
            width: auto; /* Maintain aspect ratio */
            display: inline-block; /* Allows text-align: center on parent to work */
        }
        /* Removed .logo svg and .logo span rules as they are no longer needed */

        .form-wrapper { width: 100%; max-width: 450px; text-align: center; }
        .form-wrapper.large { max-width: 600px; }

        .form-wrapper h1, .form-wrapper h2 {
            margin-bottom: 0.5rem; text-align: left;
            color: var(--dark-teal);
        }
        .form-wrapper h1 { font-size: 2rem; }
        .form-wrapper h2 { font-size: 1.5rem; }
        .form-wrapper .page-description {
            margin-bottom: 2rem; text-align: left;
            color: var(--dark-gray);
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .form-group { margin-bottom: 1.25rem; text-align: left; }
        .form-group label {
            display: block; margin-bottom: 0.5rem;
            font-weight: 500; font-size: 0.9rem; color: var(--dark-gray);
        }
        .form-control {
            width: 100%; padding: 0.8rem 1rem;
            border: 1px solid var(--medium-gray); border-radius: var(--border-radius);
            font-size: 1rem; font-family: inherit;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .form-control:focus {
            outline: none; border-color: var(--primary-green-light);
            box-shadow: 0 0 0 3px rgba(41, 167, 69, 0.2);
        }

        .password-wrapper { position: relative; }
        .password-toggle {
            position: absolute; top: 50%; right: 15px;
            transform: translateY(-50%); cursor: pointer; color: var(--dark-gray);
        }
        .password-toggle svg { width: 20px; height: 20px; }

        .password-wrapper .eye-closed {
            display: none; /* Initially hide the closed eye icon */
        }

        /* When show-password class is present, hide open eye and show closed eye */
        .password-wrapper.show-password .eye-open {
            display: none;
        }
        .password-wrapper.show-password .eye-closed {
            display: block;
        }

        .btn {
            display: inline-block; width: 100%; padding: 0.9rem 1.5rem;
            border: none; border-radius: var(--border-radius);
            font-size: 1rem; font-weight: 600; cursor: pointer;
            text-align: center; text-decoration: none;
            position: relative; /* For pseudo-element positioning */
            overflow: hidden;   /* Hide overflow of pseudo-element */
            z-index: 1;         /* Ensure button content is above pseudo-element */
            transition: transform 0.2s ease, box-shadow 0.2s ease, color 0.3s ease; /* Added transform and box-shadow transitions */
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: transform 0.3s ease;
            transform: scaleX(0); /* Start with no width */
            transform-origin: left; /* Grow from left */
            z-index: -1; /* Behind the button content */
        }

        .btn-primary { background-color: var(--primary-green-light); color: var(--white); }
        .btn-primary::before { background-color: var(--primary-green-dark); }
        .btn-primary:hover { 
            transform: translateY(-2px); /* Lift button on hover */
            box-shadow: 0 4px 10px rgba(41, 167, 69, 0.3); /* Subtle shadow on hover */
        }
        .btn-primary:hover::before { transform: scaleX(1); }
        .btn-primary:active { /* Press effect */
            transform: translateY(1px);
            box-shadow: 0 2px 5px rgba(41, 167, 69, 0.3);
        }

        .btn-secondary { background-color: var(--dark-teal); color: var(--white); }
        .btn-secondary::before { background-color: var(--medium-teal); }
        .btn-secondary:hover { 
            transform: translateY(-2px); /* Lift button on hover */
            box-shadow: 0 4px 10px rgba(0, 77, 64, 0.3); /* Subtle shadow on hover */
        }
        .btn-secondary:hover::before { transform: scaleX(1); }
        .btn-secondary:active { /* Press effect */
            transform: translateY(1px);
            box-shadow: 0 2px 5px rgba(0, 77, 64, 0.3);
        }

        .link { color: var(--primary-green-light); text-decoration: none; font-weight: 500; }
        .link:hover { text-decoration: underline; }

        .copyright {
            font-size: 0.9rem; color: var(--dark-gray);
            margin-top: 3rem;
            width: 100%;
        }
        
        /* ============================================= */
        /* ==         ÉLÉMENTS SPÉCIFIQUES            == */
        /* ============================================= */

        /* --- Landing Page --- */
        #page-landing { background-image: url('https://images.unsplash.com/photo-1576091160550-2173dba999ef?q=80&w=2070&auto=format&fit=crop'); }
        #page-landing .landing-title {
            color: var(--dark-teal); font-size: 2.5rem; margin-bottom: 3rem; max-width: 800px;
        }
        .landing-container { display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center; }
        .choice-card {
            background: rgba(255, 255, 255, 0.9); border: 1px solid var(--medium-gray);
            border-radius: var(--border-radius); padding: 2.5rem; width: 350px;
            display: flex; flex-direction: column; text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: transform 0.3s, box-shadow 0.3s;
        }
        .choice-card:hover { transform: translateY(-10px); box-shadow: 0 8px 25px rgba(0,0,0,0.15); }
        .choice-card h3 { font-size: 1.5rem; color: var(--primary-green-light); margin-bottom: 1rem; }
        .choice-card p { flex-grow: 1; }

        /* --- Right Panel Carousel --- */
        .illustration-container { position: relative; width: 90%; max-width: 450px; height: 450px; margin-bottom: 2rem; }
        .illustration {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0; transition: opacity 0.8s ease-in-out;
            pointer-events: none; object-fit: contain;
        }
        .illustration.visible { opacity: 1; }
        .illustration-text {
            color: var(--white); max-width: 80%;
            transition: color 0.8s ease;
        }

        /* --- Forgot Password --- */
        .code-inputs { display: flex; gap: 1rem; justify-content: center; margin: 2rem 0; }
        .code-input {
            width: 50px; height: 60px; font-size: 2rem; text-align: center;
            border-radius: var(--border-radius); border: 1px solid var(--medium-gray);
        }

        /* --- Registration Forms --- */
        .form-step-header { display: flex; align-items: center; gap: 0.75rem; }
        .step-number {
            background-color: var(--dark-teal); color: var(--white);
            width: 30px; height: 30px; border-radius: 50%;
            display: inline-flex; justify-content: center; align-items: center;
            font-weight: bold; flex-shrink: 0;
        }
        .form-wrapper hr {
            border: 0; border-top: 1px solid var(--medium-gray);
            margin: 2.5rem 0;
        }
        .form-check { display: flex; align-items: center; gap: 10px; margin: 1rem 0; }
        .form-check label { margin-bottom: 0; font-size: 0.9rem; }
        
        /* --- Confirmation Page --- */
        #page-register-dispensary-confirm { background-image: url('https://images.unsplash.com/photo-1551192422-6ea7bd54a7a8?q=80&w=2070&auto=format&fit=crop'); }
        .confirmation-box {
            background: rgba(255, 255, 255, 0.95); padding: 3rem;
            border-radius: var(--border-radius); max-width: 600px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .confirmation-box h2 { color: var(--primary-green-light); margin-bottom: 1.5rem; text-align: center;}

        /* --- Back Button --- */
        .back-button {
            position: absolute;
            top: 2rem;
            left: 2rem;
            background-color: var(--white);
            border: 1px solid var(--medium-gray);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            z-index: 10;
            display: none; /* Hidden by default, managed by JS */
        }
        .back-button:hover {
            background-color: var(--pale-blue-gray);
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
            transform: translateY(-1px);
        }
        .back-button:active {
            transform: translateY(0);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .back-button svg {
            width: 20px;
            height: 20px;
            color: var(--dark-teal);
        }

        /* Responsive adjustments */
        @media (max-width: 992px) {
            .split-layout .right-panel { display: none; }
            .split-layout .left-panel {
                align-items: flex-start; /* Ensure content starts from top and scrolls */
                padding: 1.5rem 1rem;
            }
            .back-button {
                top: 1.5rem; /* Adjust for smaller screens padding */
                left: 1.5rem;
            }
        }
    </style>
</head>
<body>

    <!-- ============================================== -->
    <!-- ====         PAGE 0: LANDING / CHOIX        ==== -->
    <!-- ============================================== -->
    <div id="page-landing" class="page active full-width-layout background-image-layout">
        <a href="#" class="logo" data-target="page-landing">
            <img src="/logo.png" alt="KmrCare Logo" class="logo-img">
        </a>
        <h1 class="landing-title">BIENVENUE SUR KmrCare LA PLUS GRANDE COMMUNAUTÉ DE SOINS AU CAMEROUN</h1>
        <div class="landing-container">
            <div class="choice-card">
                <h3>PATIENT</h3>
                <p>Vous recherchez des soins au plus vite? Pas de panique, nous sommes là pour vous !</p>
                <button class="btn btn-primary" data-target="page-register-patient">Je m'inscris</button>
            </div>
            <div class="choice-card">
                <h3>Dispensaires</h3>
                <p>Rejoignez l'équipe KmrCare, et vous aussi, participez à sauver des vies plus efficacement</p>
                <button class="btn btn-secondary" data-target="page-register-dispensary">Rejoignez-nous</button>
            </div>
        </div>
        <p class="copyright" style="color: var(--dark-gray); margin-top: 5rem;">© KmrCare@2025. Tous droits réservés</p>
    </div>

    <!-- ============================================== -->
    <!-- ====           PAGE 1: CONNEXION            ==== -->
    <!-- ============================================== -->
    <div id="page-login" class="page split-layout">
        <div class="left-panel">
            <button class="back-button" data-action="go-back">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
                </svg>
            </button>
            <div class="form-wrapper">
                <a href="#" class="logo" data-target="page-landing">
                    <img src="/logo.png" alt="KmrCare Logo" class="logo-img">
                </a>
                <h2 style="text-align:center; margin-bottom: 2rem;">Se Connecter</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">E-mail</label>
                        <input type="email" id="login-email" class="form-control" placeholder="Votre adresse e-mail" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Mot de passe</label>
                        <div class="password-wrapper">
                            <input type="password" id="login-password" class="form-control" placeholder="••••••••" required>
                            <span class="password-toggle">
                                <svg class="eye-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                                <svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228" /></svg>
                            </span>
                        </div>
                    </div>
                    <div style="text-align: right; margin-top: -1rem; margin-bottom: 1rem;">
                        <a href="#" class="link" data-target="page-forgot-password-email">Mot de passe oublié ?</a>
                    </div>
                    <button type="submit" class="btn btn-primary">Se connecter</button>
                    <p style="margin-top: 1.5rem;">Vous n'avez pas de compte ? <a href="#" class="link" data-target="page-landing">Inscrivez-vous</a></p>
                </form>
                <p class="copyright">© KmrCare@2025. Tous droits réservés</p>
            </div>
        </div>
        <div class="right-panel">
            <div class="illustration-container">
                <img src="" alt="Illustration médicale" class="illustration">
            </div>
            <p class="illustration-text"></p>
        </div>
    </div>
    
    <!-- ============================================== -->
    <!-- ====        PAGES MDP OUBLIÉ (FLUX)         ==== -->
    <!-- ============================================== -->
    <div id="page-forgot-password-email" class="page full-width-layout">
        <button class="back-button" data-action="go-back">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
        </button>
        <div class="form-wrapper">
             <a href="#" class="logo" data-target="page-landing">
                <img src="/logo.png" alt="KmrCare Logo" class="logo-img">
            </a>
            <h2 style="text-align:center;">Réinitialiser votre mot de passe</h2>
            <p class="page-description" style="text-align:center;">Veuillez entrer votre adresse e-mail afin que nous vous envoyons un code pour créer un nouveau mot de passe.</p>
            <form id="forgot-email-form">
                <div class="form-group">
                    <input type="email" id="forgot-email" class="form-control" placeholder="Votre adresse e-mail" required>
                </div>
                <button type="submit" class="btn btn-primary">Envoyer</button>
            </form>
            <p class="copyright">© KmrCare@2025. Tous droits réservés</p>
        </div>
    </div>

    <div id="page-forgot-password-code" class="page full-width-layout">
        <button class="back-button" data-action="go-back">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
        </button>
        <div class="form-wrapper">
             <a href="#" class="logo" data-target="page-landing">
                <img src="/logo.png" alt="KmrCare Logo" class="logo-img">
            </a>
            <h2 style="text-align:center;">Réinitialiser votre mot de passe</h2>
            <p class="page-description" style="text-align:center;">Veuillez entrer le code secret envoyer a votre adresse mail xxxx**@gmail.com</p>
            <form id="forgot-code-form">
                <div class="code-inputs">
                    <input type="text" class="code-input" maxlength="1" required> <input type="text" class="code-input" maxlength="1" required>
                    <input type="text" class="code-input" maxlength="1" required> <input type="text" class="code-input" maxlength="1" required>
                </div>
                 <a href="#" class="link">Renvoyer le code</a>
                <button type="submit" class="btn btn-primary" style="margin-top: 1rem;">Envoyer</button>
            </form>
             <p class="copyright">© KmrCare@2025. Tous droits réservés</p>
        </div>
    </div>
    
    <div id="page-forgot-password-reset" class="page full-width-layout">
        <button class="back-button" data-action="go-back">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
        </button>
        <div class="form-wrapper">
             <a href="#" class="logo" data-target="page-landing">
                <img src="/logo.png" alt="KmrCare Logo" class="logo-img">
            </a>
            <h2 style="text-align:center;">Réinitialiser votre mot de passe</h2>
            <p class="page-description" style="text-align:center;">Nous sommes prêts à enregistrer votre nouveau mot de passe.</p>
            <form id="forgot-reset-form">
                <div class="form-group"><label for="new-password">Nouveau mot de passe</label><div class="password-wrapper"><input type="password" id="new-password" class="form-control" placeholder="Nouveau mot de passe" required><span class="password-toggle"><svg class="eye-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg><svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228" /></svg></span></div></div>
                <div class="form-group"><label for="confirm-password">Confirmer votre mot de passe</label><div class="password-wrapper"><input type="password" id="confirm-password" class="form-control" placeholder="Confirmer votre mot de passe" required><span class="password-toggle"><svg class="eye-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg><svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228" /></svg></span></div></div>
                <button type="submit" class="btn btn-primary">Confirmer</button>
            </form>
             <p class="copyright">© KmrCare@2025. Tous droits réservés</p>
        </div>
    </div>
    
    <!-- ============================================== -->
    <!-- ====     PAGE 5: INSCRIPTION PATIENT        ==== -->
    <!-- ============================================== -->
    <div id="page-register-patient" class="page split-layout">
        <div class="left-panel">
            <button class="back-button" data-action="go-back">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
                </svg>
            </button>
            <div class="form-wrapper large">
                <a href="#" class="logo" data-target="page-landing">
                     <img src="/logo.png" alt="KmrCare Logo" class="logo-img">
                </a>
                <h1>Votre profil en trois étapes</h1>
                <form id="register-patient-form">
                    <div class="form-step-header" style="margin-top:1rem;"><span class="step-number">1</span><h2>Identification</h2></div>
                    <p class="page-description">Cette identification est obligatoire conformément à la réglementation de KmrCare. Vos données sont sécurisées.</p>
                    <div class="form-group"><label for="patient-nom">Noms*</label><input type="text" id="patient-nom" class="form-control" required></div>
                    <div class="form-group"><label for="patient-prenom">Prénoms*</label><input type="text" id="patient-prenom" class="form-control" required></div>
                    <div class="form-group"><label for="patient-email">E-mail*</label><input type="email" id="patient-email" class="form-control" required></div>
                    <div class="form-group"><label for="patient-tel">Numéro de téléphone*</label><input type="tel" id="patient-tel" class="form-control" required></div>
                    <div class="form-group"><label for="patient-password">Créer un mot de passe*</label><div class="password-wrapper"><input type="password" id="patient-password" class="form-control" placeholder="Créer un mot de passe" required><span class="password-toggle"><svg class="eye-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg><svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228" /></svg></span></div></div>
                    <hr>
                    <div class="form-step-header"><span class="step-number">2</span><h2>Règlementation</h2></div>
                    <p class="page-description">Bienvenue sur KmrCare, votre plateforme de prise de rendez-vous en ligne... En utilisant nos services, vous acceptez les présentes conditions. Veuillez les lire attentivement.</p>
                    <hr>
                    <div class="form-step-header"><span class="step-number">3</span><h2>Informations supplémentaires</h2></div>
                    <div class="form-group" style="margin-top:1rem;"><label>Comment avez-vous connu KmrCare?</label><select class="form-control"><option>TikTok</option><option>Facebook</option><option>Autre</option></select></div>
                    <div class="form-check"><input type="checkbox" id="patient-cgu" required><label for="patient-cgu">J'ai lu et j'accepte les <a href="#" class="link">Conditions générales de KmrCare</a></label></div>
                    <button type="submit" class="btn btn-primary" style="margin-top: 2rem;">Je m'inscris</button>
                    <p style="margin-top: 1.5rem; text-align:center;">Vous avez déjà un compte ? <a href="#" class="link" data-target="page-login">Connectez-vous</a></p>
                </form>
            </div>
        </div>
        <div class="right-panel">
            <div class="illustration-container"><img src="" alt="Illustration médicale" class="illustration"></div>
            <p class="illustration-text"></p>
        </div>
    </div>
    
    <!-- ============================================== -->
    <!-- ====   PAGE 6: INSCRIPTION DISPENSAIRE      ==== -->
    <!-- ============================================== -->
    <div id="page-register-dispensary" class="page split-layout">
        <div class="left-panel">
            <button class="back-button" data-action="go-back">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
                </svg>
            </button>
            <div class="form-wrapper large">
                <a href="#" class="logo" data-target="page-landing">
                    <img src="/logo.png" alt="KmrCare Logo" class="logo-img">
                </a>
                <h1>Votre profil en trois étapes</h1>
                <form id="register-dispensary-form" style="margin-top:1rem;">
                    <!-- Étape 1 -->
                    <div class="form-step-header"><span class="step-number">1</span><h2>Informations du Responsable du Compte (Administrateur du Dispensaire)</h2></div>
                    <p class="page-description">Inscrivez votre dispensaire sur KmrCare pour offrir à vos patients un moyen simple et moderne de prendre rendez-vous, optimiser vos plannings et réduire les files d'attente. Remplissez les informations ci-dessous pour soumettre votre demande d'inscription.</p>
                    <div class="form-group"><label for="resp-nom">Noms*</label><input type="text" id="resp-nom" class="form-control" required></div>
                    <div class="form-group"><label for="resp-prenom">Prénoms*</label><input type="text" id="resp-prenom" class="form-control" required></div>
                    <div class="form-group"><label for="resp-email">E-mail*</label><input type="email" id="resp-email" class="form-control" required></div>
                    <div class="form-group"><label for="resp-tel">Numéro de téléphone*</label><input type="tel" id="resp-tel" class="form-control" required></div>
                    <div class="form-group"><label for="resp-password">Créer un mot de passe*</label><div class="password-wrapper"><input type="password" id="resp-password" class="form-control" placeholder="Créer un mot de passe" required><span class="password-toggle"><svg class="eye-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg><svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228" /></svg></span></div></div>
                    <div class="form-group"><label for="resp-password-confirm">Confirmer votre mot de passe*</label><div class="password-wrapper"><input type="password" id="resp-password-confirm" class="form-control" placeholder="Confirmer votre mot de passe" required><span class="password-toggle"><svg class="eye-open" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg><svg class="eye-closed" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243L6.228 6.228" /></svg></span></div></div>
                    <div class="form-group"><label for="resp-civilite">Civilité du Responsable*</label><input type="text" id="resp-civilite" class="form-control" required></div>
                    <div class="form-group"><label for="resp-poste">Fonction/Poste*</label><input type="text" id="resp-poste" class="form-control" required></div>
                    <hr>
                    <!-- Étape 2 -->
                    <div class="form-step-header"><span class="step-number">2</span><h2>Informations Générales du Dispensaire</h2></div>
                    <div class="form-group" style="margin-top:1rem;"><label for="disp-nom">Nom Officiel du Dispensaire*</label><input type="text" id="disp-nom" class="form-control" required></div>
                    <div class="form-group"><label for="disp-type">Type de dispensaire*</label><input type="text" id="disp-type" class="form-control" required></div>
                    <div class="form-group"><label for="disp-adresse">Adresse Complète*</label><input type="text" id="disp-adresse" class="form-control" required></div>
                    <div class="form-group"><label for="disp-quartier">Quartier*</label><input type="text" id="disp-quartier" class="form-control" required></div>
                    <div class="form-group"><label for="disp-tel">Numéro de Téléphone du Dispensaire*</label><input type="tel" id="disp-tel" class="form-control" required></div>
                    <div class="form-group"><label for="disp-email">Adresse Email du Dispensaire*</label><input type="email" id="disp-email" class="form-control" required></div>
                    <div class="form-group"><label for="disp-logo">Logo du Dispensaire*</label><input type="file" id="disp-logo" class="form-control" required></div>
                    <div class="form-group"><label for="disp-horaires">Horaires d'Ouverture Généraux*</label><input type="text" id="disp-horaires" class="form-control" required></div>
                    <div class="form-group"><label for="disp-plages">Configuration Initiale des Plages de Rendez-vous*</label><input type="text" id="disp-plages" class="form-control" required></div>
                    <hr>
                    <!-- Étape 3 -->
                    <div class="form-step-header"><span class="step-number">3</span><h2>Services et Spécialités Proposés</h2></div>
                    <p class="page-description">Lister les principaux types de consultations offertes pour faciliter la recherche par les patients.</p>
                    <div class="form-group">
                        <label for="disp-services">Principaux Services/Consultations Offerts</label>
                        <select id="disp-services" class="form-control" required>
                            <option value="">Sélectionnez un service</option>
                            <option value="Consultation Générale">Consultation Générale</option>
                            <option value="Pédiatrie">Pédiatrie</option>
                            <option value="Gynécologie">Gynécologie</option>
                            <option value="Dermatologie">Dermatologie</option>
                            <option value="Cardiologie">Cardiologie</option>
                            <option value="Ophtalmologie">Ophtalmologie</option>
                            <option value="ORL">ORL</option>
                            <option value="Dentisterie">Dentisterie</option>
                            <option value="Laboratoire d'Analyses">Laboratoire d'Analyses</option>
                            <option value="Pharmacie">Pharmacie</option>
                            <option value="Chirurgie Mineure">Chirurgie Mineure</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="disp-specialites">Spécialités Particulières</label>
                        <select id="disp-specialites" class="form-control" required>
                            <option value="">Sélectionnez une spécialité</option>
                            <option value="Paludisme">Paludisme</option>
                            <option value="Diabète">Diabète</option>
                            <option value="Hypertension">Hypertension</option>
                            <option value="Maladies Infectieuses">Maladies Infectieuses</option>
                            <option value="Vaccination">Vaccination</option>
                            <option value="Suivi de Grossesse">Suivi de Grossesse</option>
                            <option value="Santé Maternelle">Santé Maternelle</option>
                            <option value="Santé Infantile">Santé Infantile</option>
                            <option value="Nutrition">Nutrition</option>
                        </select>
                    </div>
                    
                    <div class="form-check"><input type="checkbox" id="disp-certify" required><label for="disp-certify">Je certifie que les informations fournies sont exactes et que je suis autorisé(e) à inscrire ce dispensaire.</label></div>
                    <div class="form-check"><input type="checkbox" id="disp-cgu" required><label for="disp-cgu">J'ai lu et j'accepte les <a href="#" class="link">Conditions générales de KmrCare</a></label></div>
                    <button type="submit" class="btn btn-primary" style="margin-top: 2rem;">Soumettre ma demande d'inscription</button>
                    <p style="margin-top: 1.5rem; text-align:center;">Vous avez déjà un compte ? <a href="#" class="link" data-target="page-login">Connectez-vous</a></p>
                </form>
            </div>
        </div>
        <div class="right-panel">
            <div class="illustration-container"><img src="" alt="Illustration médicale" class="illustration"></div>
            <p class="illustration-text"></p>
        </div>
    </div>
    
    <!-- ============================================== -->
    <!-- == PAGE 7: CONFIRMATION INSCR. DISPENSAIRE  == -->
    <!-- ============================================== -->
    <div id="page-register-dispensary-confirm" class="page full-width-layout background-image-layout">
        <div class="confirmation-box">
             <a href="#" class="logo" data-target="page-landing">
                <img src="/logo.png" alt="KmrCare Logo" class="logo-img">
            </a>
            <h2>Merci d'avoir soumis votre demande d'inscription !</h2>
            <p style="line-height: 1.7;">Votre demande pour le dispensaire <strong>[Nom du Dispensaire]</strong> est en cours d'examen. Vous recevrez un email à <strong>[Email du Responsable]</strong> vous informant de l'état de votre inscription dans un délai de [X] jours ouvrables.</p>
            <p style="margin-top: 1rem;"><strong>Veuillez vérifier votre dossier de courrier indésirable (spam).</strong></p>
            <button class="btn btn-primary" style="margin-top: 2rem;" data-target="page-landing">Cliquer ici pour accéder à la page d'accueil</button>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', () => {

        const pages = document.querySelectorAll('.page');
        let carouselInterval;
        let pageHistory = []; // Stack to store page IDs

        const carouselData = [
            {
                img: '/medical_team.png',
                text: 'KmrCare relie les patients aux meilleurs professionnels de santé du Cameroun, facilitant l\'accès aux soins où que vous soyez.',
                bgColor: 'var(--dark-teal)'
            },
            {
                img: '/patient_on_bed.png',
                text: 'Que ce soit pour une urgence ou un suivi régulier, trouvez rapidement un rendez-vous avec le dispensaire adapté à vos besoins.',
                bgColor: 'var(--primary-green-light)'
            },
            {
                img: '/doctor_consulting.png',
                text: 'Optimisez la gestion de vos rendez-vous et améliorez l\'expérience de vos patients grâce à notre plateforme intuitive et sécurisée.',
                bgColor: 'var(--pale-blue-gray)',
                textColor: 'var(--dark-gray)'
            }
        ];

        function startCarousel(pageElement) {
            clearInterval(carouselInterval);
            const rightPanel = pageElement.querySelector('.right-panel');
            if (!rightPanel) return;

            const illustrationImg = rightPanel.querySelector('.illustration');
            const illustrationText = rightPanel.querySelector('.illustration-text');
            let currentIndex = 0;

            function updateCarousel() {
                const currentData = carouselData[currentIndex];
                
                illustrationImg.classList.remove('visible');
                
                setTimeout(() => {
                    illustrationImg.src = currentData.img;
                    illustrationText.textContent = currentData.text;
                    rightPanel.style.backgroundColor = currentData.bgColor;
                    illustrationText.style.color = currentData.textColor || 'var(--white)';
                    illustrationImg.classList.add('visible');
                }, 400); // Laisse le temps au fade-out

                currentIndex = (currentIndex + 1) % carouselData.length;
            }

            updateCarousel(); // Affiche la première immédiatement
            carouselInterval = setInterval(updateCarousel, 4000);
        }

        // Helper to update back button visibility
        function updateBackButtonVisibility() {
            document.querySelectorAll('.back-button').forEach(btn => {
                const currentPageId = pageHistory[pageHistory.length - 1];
                if (pageHistory.length > 1 && currentPageId !== 'page-landing' && currentPageId !== 'page-register-dispensary-confirm') {
                    btn.style.display = 'flex';
                } else {
                    btn.style.display = 'none';
                }
            });
        }

        function showPage(pageId, pushToHistory = true) {
            pages.forEach(page => page.classList.remove('active'));
            const targetPage = document.getElementById(pageId);
            if(targetPage) {
                targetPage.classList.add('active');
                window.scrollTo(0, 0);

                if (targetPage.classList.contains('split-layout')) {
                    startCarousel(targetPage);
                } else {
                    clearInterval(carouselInterval);
                }

                if (pushToHistory) {
                    if (pageId === 'page-landing') {
                        // If navigating directly to landing, clear history and reset
                        pageHistory = ['page-landing'];
                    } else if (pageId !== pageHistory[pageHistory.length - 1]) {
                        // Avoid pushing the same page multiple times if already on it
                        pageHistory.push(pageId);
                    }
                }
                updateBackButtonVisibility();
            } else {
                // Fallback to landing page if targetPage not found
                if (pushToHistory) {
                    pageHistory = ['page-landing'];
                }
                document.getElementById('page-landing').classList.add('active');
                updateBackButtonVisibility();
            }
        }

        function goBack() {
            if (pageHistory.length > 1) {
                pageHistory.pop(); // Remove current page from history
                const prevPageId = pageHistory[pageHistory.length - 1]; // Get the previous page
                showPage(prevPageId, false); // Show it, but don't add to history again
            }
        }

        // Initial page load
        showPage('page-landing', true); // Ensure landing page is added to history on load

        document.body.addEventListener('click', (e) => {
            const trigger = e.target.closest('[data-target]');
            const backButton = e.target.closest('[data-action="go-back"]');

            if (trigger) {
                e.preventDefault();
                showPage(trigger.dataset.target);
            } else if (backButton) {
                e.preventDefault();
                goBack();
            }
        });
        
        document.querySelectorAll('form').forEach(form => {
            form.addEventListener('submit', (e) => {
                e.preventDefault();
                switch(form.id) {
                    case 'login-form': showPage('page-landing'); break;
                    case 'register-patient-form': showPage('page-landing'); break;
                    case 'register-dispensary-form': showPage('page-register-dispensary-confirm'); break;
                    case 'forgot-email-form': showPage('page-forgot-password-code'); break;
                    case 'forgot-code-form': showPage('page-forgot-password-reset'); break;
                    case 'forgot-reset-form': showPage('page-login'); break;
                }
            });
        });

        document.querySelectorAll('.password-toggle').forEach(toggle => {
            toggle.addEventListener('click', () => {
                const passwordInput = toggle.closest('.password-wrapper').querySelector('input');
                const passwordWrapper = toggle.closest('.password-wrapper');
                
                if (passwordInput.type === 'password') {
                    passwordInput.type = 'text';
                    passwordWrapper.classList.add('show-password');
                } else {
                    passwordInput.type = 'password';
                    passwordWrapper.classList.remove('show-password');
                }
            });
        });

        const codeInputs = document.querySelectorAll('.code-input');
        codeInputs.forEach((input, index) => {
            input.addEventListener('input', () => {
                if (input.value && index < codeInputs.length - 1) {
                    codeInputs[index + 1].focus();
                }
            });
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && !input.value && index > 0) {
                    codeInputs[index - 1].focus();
                }
            });
        });
    });
    </script>
</body>
</html>